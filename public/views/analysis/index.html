<!-- Navigation bar -->
<ng-include src="'views/navigation.html'"></ng-include>

<!-- Header -->
<div class="page-header">
  <h1>Analysis <small>settings</small></h1>
  <p class="text-muted">
    Beware that changes here will effect indexes when they are flush or activated.
    Used but removed analysis by an index may make the search node unusable.
  </p>
</div>

<!-- messages -->
<div data-ng-show="message" class="alert {{ messageClass }}" role="alert">{{ message }}</div>

<!--
  -- Analysers
  -->
<div class="jumbotron">
	<div class="panel panel-default">
    <div class="panel-heading">
      <h4>Analysers</h4>
    </div>
    <table class="table table-hover">
      <thead>
      <tr>
        <th>#</th>
        <th>Name</th>
        <th>Description</th>
        <th>Actions</th>
      </tr>
      </thead>
      <tr data-ng-repeat="(key, data) in analysis.analyzer">
        <td>{{ $index + 1 }}</td>
        <td>{{ key }}</td>
        <td>
          {{ data.x_description }}
          <label class="label label-warning" data-ng-show="data.x_locked">
            <span class="glyphicon glyphicon-lock" aria-hidden="true"></span>
          </label>
        </td>
        <td>
          <button data-ng-hide="data.x_locked" type="button" class="btn btn-success btn-xs" data-ng-click="editAnalyzer(key)">
            <span class="glyphicon glyphicon-wrench" aria-hidden="true"></span> Edit
          </button>

          <button type="button" class="btn btn-info btn-xs" data-ng-click="copy(index.index)">
            <span class="glyphicon glyphicon-share" aria-hidden="true"></span> Copy
          </button>

          <button data-ng-hide="data.x_locked" type="button" class="btn btn-danger btn-xs" data-ng-click="removeAnalyzer(key)">
            <span class="glyphicon glyphicon-minus" aria-hidden="true"></span> Remove
          </button>

          <button type="button" class="btn btn-default btn-xs" data-ng-click="exportMapping(index.index)">
            <span class="glyphicon glyphicon-export" aria-hidden="true"></span> Export
          </button>
        </td>
      </tr>
    </table>
  </div>

  <!-- Add new key -->
  <button type="button" class="btn btn-info" data-ng-click="addAnalyzer()">
    <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Add
  </button>
  <button type="button" class="btn btn-warning" data-ng-click="importAnalyzer()">
    <span class="glyphicon glyphicon-import" aria-hidden="true"></span> Import
  </button>
</div>

<!--
  -- Filters
  -->
<div class="jumbotron">
  <div class="panel panel-default">
    <div class="panel-heading">
      <h4>Filters</h4>
    </div>
    <table class="table table-hover">
      <thead>
      <tr>
        <th>#</th>
        <th>Name</th>
        <th>Description</th>
        <th>Actions</th>
      </tr>
      </thead>
      <tr data-ng-repeat="(key, data) in analysis.filter">
        <td>{{ $index + 1 }}</td>
        <td>{{ key }}</td>
        <td>
          {{ data.x_description }}
          <label class="label label-warning" data-ng-show="data.x_locked">
            <span class="glyphicon glyphicon-lock" aria-hidden="true"></span>
          </label>
        </td>        <td>
          <button data-ng-hide="data.x_locked" type="button" class="btn btn-success btn-xs" data-ng-click="editFilter(key)">
            <span class="glyphicon glyphicon-wrench" aria-hidden="true"></span> Edit
          </button>

          <button type="button" class="btn btn-info btn-xs" data-ng-click="copy(index.index)">
            <span class="glyphicon glyphicon-share" aria-hidden="true"></span> Copy
          </button>

          <button data-ng-hide="data.x_locked" type="button" class="btn btn-danger btn-xs" data-ng-click="removeFilter(key)">
            <span class="glyphicon glyphicon-minus" aria-hidden="true"></span> Remove
          </button>

          <button type="button" class="btn btn-default btn-xs" data-ng-click="exportMapping(index.index)">
            <span class="glyphicon glyphicon-export" aria-hidden="true"></span> Export
          </button>
        </td>
      </tr>
    </table>
  </div>

  <!-- Add new key -->
  <button type="button" class="btn btn-info" data-ng-click="addFilter()">
    <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Add
  </button>
  <button type="button" class="btn btn-warning" data-ng-click="importFilter()">
    <span class="glyphicon glyphicon-import" aria-hidden="true"></span> Import
  </button>
</div>

<!--
  -- Tokenizer
  -->
<div class="jumbotron">
  <div class="panel panel-default">
    <div class="panel-heading">
      <h4>Tokenizer</h4>
    </div>
    <table class="table table-hover">
      <thead>
      <tr>
        <th>#</th>
        <th>Name</th>
        <th>Description</th>
        <th>Actions</th>
      </tr>
      </thead>
      <tr data-ng-repeat="(key, data) in analysis.tokenizer">
        <td>{{ $index + 1 }}</td>
        <td>{{ key }}</td>
        <td>
          {{ data.x_description }}
          <label class="label label-warning" data-ng-show="data.x_locked">
            <span class="glyphicon glyphicon-lock" aria-hidden="true"></span>
          </label>
        </td>        <td>
          <button data-ng-hide="data.x_locked" type="button" class="btn btn-success btn-xs" data-ng-click="editTokenizer(key)">
            <span class="glyphicon glyphicon-wrench" aria-hidden="true"></span> Edit
          </button>

          <button type="button" class="btn btn-info btn-xs" data-ng-click="copy(index.index)">
            <span class="glyphicon glyphicon-share" aria-hidden="true"></span> Copy
          </button>

          <button data-ng-hide="data.x_locked" type="button" class="btn btn-danger btn-xs" data-ng-click="removeTokenizer(key)">
            <span class="glyphicon glyphicon-minus" aria-hidden="true"></span> Remove
          </button>

          <button type="button" class="btn btn-default btn-xs" data-ng-click="exportMapping(index.index)">
            <span class="glyphicon glyphicon-export" aria-hidden="true"></span> Export
          </button>
        </td>
      </tr>
    </table>
  </div>

  <!-- Add new key -->
  <button type="button" class="btn btn-info" data-ng-click="addTokenizer()">
    <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Add
  </button>
  <button type="button" class="btn btn-warning" data-ng-click="importTokenizer()">
    <span class="glyphicon glyphicon-import" aria-hidden="true"></span> Import
  </button>
</div>