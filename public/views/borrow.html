<nav class="navbar navbar-default navbar-absolute-top">
  <div>
    <div class="row row-nav">
      <div class="col-xs-6 col-md-4"><div class="logo-container"><a href="/"><img src="img/aarhus.png" class="logo"></a></div></div>
      <div class="col-xs-6 col-md-4 text-center"><h1>{{ 'borrow.heading' | translate }}</h1></div>
      <div class="col-xs-6 col-md-4 text-right"><h1 class="text-faded">{{ countdown }}</h1></div>
    </div>
  </div>
</nav>

<div class="container">
  <div class="panel panel-default">
    <table class="table">
      <tr>
        <th></th>
        <th>{{ 'borrow.title' | translate }}</th>
        <th>{{ 'borrow.return_date' | translate }}</th>
        <th class="text-center">{{ 'borrow.status' | translate }}</th>
        <th>{{ 'borrow.information' | translate }}</th>
      </tr>
      <tr data-ng-repeat="material in materials"
          data-ng-class="{'bg-success': material.status === 'borrow.success', 'bg-danger': material.status === 'borrow.error'}">
        <td class="vert-align">{{ $index + 1 }}</td>
        <td class="vert-align">{{ material.title }}</td>
        <td class="vert-align">{{ material.dueDate | date }}</td>
        <td class="vert-align text-center">
          <spinner data-ng-if="material.loading"></spinner>
          <span data-ng-if="material.status === 'borrow.success'" class="glyphicon glyphicon glyphicon-ok"
                aria-hidden="true"></span>
          <span data-ng-if="material.status === 'borrow.error'" class="glyphicon glyphicon glyphicon-remove"
                aria-hidden="true"></span>
        </td>
        <td class="vert-align">{{Â material.information | translate }}</td>
      </tr>
    </table>
  </div>

  <div class="buttons-bottom">
    <button type="button" class="btn btn-danger button button-left" aria-label="Left Align" data-ng-click="gotoFront()">
      <span class="glyphicon glyphicon-arrow-left" aria-hidden="true"></span> {{ 'common.back' | translate }}
    </button>
    <button type="button" class="btn btn-success button button-left" data-toggle="modal" data-target="#receiptModal" data-ng-click="startTimer()" data-ng-if="currentPatron && currentPatron.emailAddress">
      <span class="glyphicon glyphicon-list-alt" aria-hidden="true"></span> {{ 'borrow.button.receipt' | translate }}
    </button>
    <button type="button" class="btn btn-success button button-left" data-ng-click="receipt('printer')" data-ng-click="startTimer()" data-ng-if="currentPatron && !currentPatron.emailAddress">
      <span class="glyphicon glyphicon-print" aria-hidden="true"></span> {{ 'borrow.button.receipt' | translate }}
    </button>
  </div>

  <!-- Receipt modal -->
  <div class="modal fade" id="receiptModal" tabindex="-1" role="dialog" aria-labelledby="receiptModalLabel">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h2 class="modal-title" id="receiptModalLabel">{{ 'borrow.receipt.heading' | translate }}</h2>
        </div>
        <div class="modal-body">
          <button type="button" class="btn btn-success button" aria-label="Left Align" data-ng-click="receipt('mail')">
            <span class="glyphicon glyphicon-envelope" aria-hidden="true"></span> {{ 'borrow.button.receipt_mail' | translate }}
          </button>
          <button type="button" class="btn btn-success button" aria-label="Left Align" data-ng-click="receipt('printer')">
            <span class="glyphicon glyphicon-print" aria-hidden="true"></span> {{ 'borrow.button.receipt_printer' | translate }}
          </button>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-danger button" data-dismiss="modal" data-ng-click="startTimer()">{{ 'borrow.button.close' | translate }}</button>
        </div>
      </div>
    </div>
  </div>
</div>
